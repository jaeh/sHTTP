{"version":3,"sources":["src/server.js"],"names":[],"mappings":";;;;IAAO,OAAO,2BAAM,SAAS;;IACrB,IAAI,WAAO,MAAM,EAAjB,IAAI;;IACL,QAAQ,2BAAM,UAAU;;AAE/B,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACtC,GAAG,GAAM,OAAO,EAAE;IAClB,IAAI,GAAK,IAAI,CAAC,IAAI,IAAI,IAAI;IAC1B,GAAG,GAAM,OAAO,CAAC,GAAG,EAAE;IACtB,SAAS,GAAG,IAAI,CAAC,KAAK,IAAI,YAAY;IACtC,OAAO,GAAG;AACR,UAAQ,EAAE,QAAQ;AAClB,MAAI,EAAE,KAAK;AACX,YAAU,EAAE,CAAC,MAAM,CAAC;AACpB,OAAK,EAAE,SAAS;AAChB,QAAM,EAAE,IAAI;AACZ,UAAQ,EAAE,KAAK;AACf,YAAU,EAAE,UAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAK;AAC/B,OAAG,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;GACnC;CACF,CACJ;;AAED,OAAO,CAAC,GAAG,gCAA8B,IAAI,CAAC,CAAC,kBAAa,IAAI,CAAC,GAAG,CAAG,CAAC;;AAExE,IAAK,IAAI,CAAC,GAAG,IAAI,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,EAAG;AAC9C,MAAK,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAG;AACjC,OAAG,GAAG,IAAI,CAAC,GAAG,CAAC;GAChB,MAAM;AACL,OAAG,GAAG,IAAI,CAAE,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,GAAG,CAAE,CAAC;GACvC;CACF;;AAED,GAAG,CAAC,GAAG,CAAC,OAAO,UAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;;AAEtC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;AACnC,SAAO,CAAC,GAAG,0BAAwB,IAAI,CAAG,CAAC;AAC3C,SAAO,CAAC,IAAI,EAAE,CAAC;CAChB,CAAC,CAAC;;AAEH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAEjB,OAAO,CAAC,GAAG,oDAEmC,IAAI,wCAClB,GAAG,QAElC,CAAC","file":"shttp.js","sourcesContent":["import express from 'express';\nimport {join} from 'path';\nimport minimist from 'minimist';\n\nvar argv = minimist(process.argv.slice(2))\n  , app    = express()\n  , port   = argv.port || 1337\n  , dir    = process.cwd()\n  , indexFile = argv.index || 'index.html'\n  , options = {\n      dotfiles: 'ignore'\n    , etag: false\n    , extensions: ['html']\n    , index: indexFile\n    , maxAge: '1w'\n    , redirect: false\n    , setHeaders: (res, path, stat) => {\n        res.set('x-timestamp', Date.now())\n      }\n    }\n;\n\nconsole.log(`running server with port: ${argv.p} and dir: ${argv.dir}`);\n\nif ( argv.dir && typeof argv.dir === 'string' ) {\n  if ( argv.dir.indexOf('/') === 0 ) {\n    dir = argv.dir;\n  } else {\n    dir = join( process.cwd(), argv.dir );\n  }\n}\n\napp.use(express.static(dir, options));\n\napp.get('/kill', (req, res, next) => {\n  console.log(`killing app at port ${port}`);\n  process.exit();\n});\n\napp.listen(port);\n\nconsole.log(\n`\nScreeninvader dev server listening to port: ${port}\nand serving static files from ${dir}\n`\n);\n"]}